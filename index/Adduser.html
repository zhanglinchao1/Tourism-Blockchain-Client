<!DOCTYPE html>
<html lang="en">

	<head>
		<meta charset="utf-8" />
		<link rel="apple-touch-icon" sizes="76x76" href="../assets/img/apple-icon.png">
		<link rel="icon" type="image/png" href="../assets/img/favicon.png">
		<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
		<title>
			Interworking Mechanism of Blockchain Platforms for Secure Tourism Service
		</title>
		<!-- <meta content='width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0, shrink-to-fit=no' name='viewport' /> -->
		<!--     Fonts and icons     -->
		<link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:400,700|Material+Icons" />
		<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/latest/css/font-awesome.min.css">
		<!-- CSS Files -->
		<link href="../assets/css/material-dashboard.css?v=2.1.0" rel="stylesheet" />
		<!-- CSS Just for demo purpose, don't include it in your project -->
		<link href="../assets/demo/demo.css" rel="stylesheet" />

		<!-- copy -->

		<link href="../vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">

		<!-- Custom fonts for this template-->
		<link href="../vendor/fontawesome-free/css/all.min.css" rel="stylesheet" type="text/css">

		<!-- Page level plugin CSS-->
		<link href="../vendor/datatables/dataTables.bootstrap4.css" rel="stylesheet">

		<!-- Custom styles for this template-->
		<link href="../css/sb-admin.css" rel="stylesheet">
	</head>

	<body class="dark-edition">
		<div class="wrapper ">
			<div class="sidebar" data-color="purple" data-background-color="black" data-image="../assets/img/sidebar-2.jpg">
				<!--
        Tip 1: You can change the color of the sidebar using: data-color="purple | azure | green | orange | danger"

        Tip 2: you can also add an image using data-image tag
    -->
				<div class="logo"><a href="http://www.creative-tim.com" class="simple-text logo-normal">
						Tourist Blockchain
					</a></div>
				<div class="sidebar-wrapper">
					<ul class="nav">
						<li class="nav-item ">
							<a class="nav-link" href="index.html">
								<i class="material-icons">dashboard</i>
								<p>Dashboard</p>
							</a>
						</li>
						<li class="nav-item ">
							<a class="nav-link" href="user.html">
								<i class="material-icons">person</i>
								<p>User </p>
							</a>
						</li>
						<li class="nav-item active">
							<a class="nav-link" href="Adduser.html">
								<i class="material-icons">content_paste</i>
								<p>Add user</p>
							</a>
						</li>
						<li class="nav-item ">
							<a class="nav-link" href="contract.html">
								<i class="material-icons">content_paste</i>
								<p>Contract</p>
							</a>
						</li>
						<li class="nav-item ">
							<a class="nav-link" href="Query.html">
								<i class="material-icons">content_paste</i>
								<p>Query Hotel</p>
							</a>
						</li>
						<li class="nav-item ">
							<a class="nav-link" href="Booking.html">
								<i class="material-icons">library_books</i>
								<p>Booking</p>
							</a>
						</li>
						<li class="nav-item ">
							<a class="nav-link" href="History.html">
								<i class="material-icons">bubble_chart</i>
								<p>History</p>
							</a>
						</li>
						<!-- <li class="nav-item ">
							<a class="nav-link" href="map.html">
								<i class="material-icons">location_ons</i>
								<p>Maps</p>
							</a>
						</li> -->
						<!-- <li class="nav-item ">
							<a class="nav-link" href="notifications.html">
								<i class="material-icons">notifications</i>
								<p>Notifications</p>
							</a>
						</li> -->
						<!-- <li class="nav-item active-pro ">
                <a class="nav-link" href="./upgrade.html">
                    <i class="material-icons">unarchive</i>
                    <p>Upgrade to PRO</p>
                </a>
            </li> -->
					</ul>
				</div>
			</div>
			<div class="main-panel">
				<!-- Navbar -->
				<nav class="navbar navbar-expand-lg navbar-transparent navbar-absolute fixed-top " id="navigation-example">
					<div class="container-fluid">
						<div class="navbar-wrapper">
							<a class="navbar-brand" href="javascript:void(0)">Table List</a>
						</div>
						<button class="navbar-toggler" type="button" data-toggle="collapse" aria-controls="navigation-index"
						 aria-expanded="false" aria-label="Toggle navigation" data-target="#navigation-example">
							<span class="sr-only">Toggle navigation</span>
							<span class="navbar-toggler-icon icon-bar"></span>
							<span class="navbar-toggler-icon icon-bar"></span>
							<span class="navbar-toggler-icon icon-bar"></span>
						</button>
						<div class="collapse navbar-collapse justify-content-end">
							<form class="navbar-form">
								<div class="input-group no-border">
									<input type="text" value="" class="form-control" placeholder="Search...">
									<button type="submit" class="btn btn-default btn-round btn-just-icon">
										<i class="material-icons">search</i>
										<div class="ripple-container"></div>
									</button>
								</div>
							</form>
							<ul class="navbar-nav">
								<li class="nav-item">
									<a class="nav-link" href="javascript:void(0)">
										<i class="material-icons">dashboard</i>
										<p class="d-lg-none d-md-block">
											Stats
										</p>
									</a>
								</li>
								<li class="nav-item dropdown">
									<a class="nav-link" href="javscript:void(0)" id="navbarDropdownMenuLink" data-toggle="dropdown" aria-haspopup="true"
									 aria-expanded="false">
										<i class="material-icons">notifications</i>
										<span class="notification">5</span>
										<p class="d-lg-none d-md-block">
											Some Actions
										</p>
									</a>
									<div class="dropdown-menu dropdown-menu-right" aria-labelledby="navbarDropdownMenuLink">
										<a class="dropdown-item" href="javascript:void(0)">Mike John responded to your email</a>
										<a class="dropdown-item" href="javascript:void(0)">You have 5 new tasks</a>
										<a class="dropdown-item" href="javascript:void(0)">You're now friend with Andrew</a>
										<a class="dropdown-item" href="javascript:void(0)">Another Notification</a>
										<a class="dropdown-item" href="javascript:void(0)">Another One</a>
									</div>
								</li>
								<li class="nav-item">
									<a class="nav-link" href="javascript:void(0)">
										<i class="material-icons">person</i>
										<p class="d-lg-none d-md-block">
											Account
										</p>
									</a>
								</li>
							</ul>
						</div>
					</div>
				</nav>
				<!-- End Navbar -->
				<div class="content">
					<div class="container-fluid">
						<div class="row">
							<div class="col-md-12">
								<div class="card">
									<!-- 第一个table -->
									<div class="card-header card-header-primary">
										<h4 class="card-title ">Customer Table List</h4>
										<p class="card-category"> Get a list of Customer information</p>
										<button type="button" class="btn btn-success btn-sm" data-toggle="modal" data-target="#AddDoctorModal" style="position: absolute; top: 1.26rem; right: 4.25rem;">
											Add Cutomer </button>
									</div>
									<div class="card-body">
										<div class="table-responsive">
											<!-- copy-MCL -->
											<div id="content-wrapper">
												<div class="container-fluid">

													<!-- DataTables Example -->
													<div class="card mb-3">

														<div class="table-responsive">
															<table class="table table-bordered" id="dataTable" width="100%" cellspacing="0">
																<thead>
																	<tr>
																		<th>WindingTreeID</th>
																		<th>CutomerID</th>
																		<th>Firstname</th>
																		<th>Lastname</th>
																		<th>Email</th>
																		<th>Actions</th>
																	</tr>
																</thead>
																<tbody>
																</tbody>
															</table>
														</div>
													</div>
													<div class="card-footer small text-muted">
														<p>Updated at <span id="datetime"></span></p>
													</div>
												</div>
											</div>

											<!-- Add Doctor Modal-->
											<div class="modal fade" id="AddDoctorModal" tabindex="-1" role="dialog" aria-hidden="true">
												<div class="modal-dialog" role="document">
													<div class="modal-content">
														<div class="modal-header">
															<h5 class="modal-title">Create Customer</h5>
															<button class="close" type="button" data-dismiss="modal" aria-label="Close">
																<span aria-hidden="true">×</span>
															</button>
														</div>
														<div class="modal-body">
															<form>
																<div >
																	<label for="department" style="color: #000000;" class="col-form-label">WindingTreeID:</label>
																	<input type="text" class="form-control" style="color: #0000FE;" id="department">
																</div>
																<div >
																	<label for="doctorID" style="color:black;" class="col-form-label">CustomerID:</label>
																	<input type="text" class="form-control" style="color: #0000FE;" id="userId">
																</div>
																<div >
																	<label for="firstname" style="color:black;" class="col-form-label">Firstname:</label>
																	<input type="text" class="form-control" style="color: #0000FE;" id="firstname">
																</div>
																<div >
																	<label for="lastname" style="color:black;" class="col-form-label">Lastname:</label>
																	<input type="text" class="form-control" style="color: #0000FE;" id="lastname">
																</div>
																<div >
																	<label for="title" style="color:black;" class="col-form-label">Email:</label>
																	<input type="text" class="form-control" style="color: #0000FE;" id="title">
																</div> 
															</form>
														</div>
														<div class="modal-footer">
															<button class="btn btn-secondary" type="button" data-dismiss="modal">Cancel</button>
															<button class="btn btn-primary" id="addDoctor">Submit</button>
														</div>
													</div>
												</div>
											</div>
											<!-- Edit Doctor Modal-->
											<div class="modal fade" id="EditDoctorModal" tabindex="-1" role="dialog" aria-hidden="true">
												<div class="modal-dialog" role="document">
													<div class="modal-content">
														<div class="modal-header">
															<h5 class="modal-title">Edit CutomerID</h5>
															<button class="close" type="button" data-dismiss="modal" aria-label="Close">
																<span aria-hidden="true">×</span>
															</button>
														</div>
														<div class="modal-body">
															<form  >
																<div >
																	<label for="newdepartment" style="color:black;" class="col-form-label">WindingTreeID:</label>
																	<input type="text" class="form-control" style="color: #0000FE;" id="newdepartment">
																</div>
																<div >
																	<label for="newdoctorID" style="color:black;" class="col-form-label">CutomerID:</label>
																	<input type="text" class="form-control" style="color: #0000FE;" id="newdoctorID" readonly>
																</div>
																<div >
																	<label for="newfirstname" style="color:black;" class="col-form-label">Firstname:</label>
																	<input type="text" class="form-control" style="color: #0000FE;"  id="newfirstname">
																</div>
																<div >
																	<label for="newlastname" style="color:black;" class="col-form-label">Lastname:</label>
																	<input type="text" class="form-control" style="color: #0000FE;" id="newlastname">
																</div>
																<div >
																	<label for="newtitle" style="color:black;" class="col-form-label">Email:</label>
																	<input type="text" class="form-control" style="color: #0000FE;" id="newtitle">
																</div>
															</form>
														</div>
														<div class="modal-footer">
															<button class="btn btn-secondary" type="button" data-dismiss="modal">Cancel</button>
															<button class="btn btn-primary" id="editDoctor">Save Changes</button>
														</div>
													</div>
												</div>
											</div>
											<!-- Delete Doctor Modal-->
											<div class="modal fade" id="DeleteDoctorModal" tabindex="-1" role="dialog" aria-hidden="true">
												<div class="modal-dialog" role="document">
													<div class="modal-content">
														<div class="modal-header">
															<h5 class="modal-title">Delete Cutomer</h5>
															<button class="close" type="button" data-dismiss="modal" aria-label="Close">
																<span aria-hidden="true">×</span>
															</button>
														</div>
														<div class="modal-body">
															<form>
																<div class="form-group">
																	<p id="deleteID"></p>
																</div>
																<p>Select "Confirm" below if you are ready to delete the current Customer.</p>
															</form>
														</div>
														<div class="modal-footer">
															<button class="btn btn-secondary" type="button" data-dismiss="modal">Cancel</button>
															<button class="btn btn-primary" id="deleteDoctor">Confirm</button>
														</div>
													</div>
												</div>
											</div>
											<!-- copy-MCL结束 -->

										</div>
									</div>
								</div>
							</div>
							<div class="col-md-12">
								<div class="card">
									<!-- 第二个table -->
									<div class="card card-plain">
										<div class="card-header card-header-primary">
											<h4 class="card-title mt-0"> Company Table List</h4>
											<p class="card-category">Get a list of Company information</p>
											<button type="button" class="btn btn-success btn-sm" data-toggle="modal" data-target="#AddCompanyModal"
											 style="position: absolute; top: 1.26rem; right: 4.25rem;">
												Add Company </button>
										</div>

									</div>
									<div class="card-body">
										<div class="table-responsive">
											<!-- copy-MCL -->

											<div class="container-fluid">
												<!-- DataTables Example -->
												<div class="card mb-3">
													<div class="table-responsive">
														<table class="table table-bordered" id="dataTable1" width="100%" cellspacing="0">
															<thead>
																<tr>
																	<th>WindingTreeID</th>
																	<th>Company</th>
																	<th>Firstname</th>
																	<th>Lastname</th>

																	<th>Actions</th>
																</tr>
															</thead>
															<tbody>
															</tbody>
														</table>
													</div>
												</div>
												<div class="card-footer small text-muted">
													<p>Updated at <span id="datetime1"></span></p>
												</div>
											</div>


											<!-- Add Doctor Modal-->
											<div class="modal fade" id="AddCompanyModal" tabindex="-1" role="dialog" aria-hidden="true">
												<div class="modal-dialog" role="document">
													<div class="modal-content">
														<div class="modal-header">
															<h5 class="modal-title">Create Company</h5>
															<button class="close" type="button" data-dismiss="modal" aria-label="Close">
																<span aria-hidden="true">×</span>
															</button>
														</div>
														<div class="modal-body">
															<form>
																<div style="color:black;">
																	<label for="department1" style="color:black;" class="col-form-label">WindingTreeID:</label>
																	<input type="text" class="form-control" style="color: #0000FE;" id="department1">
																</div>
																<div >
																	<label for="userId1" style="color:black;" class="col-form-label">CompanyID:</label>
																	<input type="text" class="form-control" style="color: #0000FE;" id="userId1">
																</div>
																<div >
																	<label for="firstname1" style="color:black;" class="col-form-label">Firstname:</label>
																	<input type="text" class="form-control" style="color: #0000FE;" id="firstname1">
																</div>
																<div >
																	<label for="lastname1" style="color:black;" class="col-form-label">Lastname:</label>
																	<input type="text" class="form-control" style="color: #0000FE;" id="lastname1">
																</div>
																<!-- <div class="form-group">
																	<label for="title1" class="col-form-label">Title:</label>
																	<input type="text" class="form-control" id="title1">
																</div> -->
															</form>
														</div>
														<div class="modal-footer">
															<button class="btn btn-secondary" type="button" data-dismiss="modal">Cancel</button>
															<button class="btn btn-primary" id="addCompany">Submit</button>
														</div>
													</div>
												</div>
											</div>
											<!-- Edit Doctor Modal-->
											<div class="modal fade" id="EditCompanyModal" tabindex="-1" role="dialog" aria-hidden="true">
												<div class="modal-dialog" role="document">
													<div class="modal-content">
														<div class="modal-header">
															<h5 class="modal-title">Edit CompanyID</h5>
															<button class="close" type="button" data-dismiss="modal" aria-label="Close">
																<span aria-hidden="true">×</span>
															</button>
														</div>
														<div class="modal-body">
															<form style="color: #0000FE;">
																<div >
																	<label for="newdepartment1" style="color:black;" class="col-form-label">WindingTreeID:</label>
																	<input type="text" class="form-control" style="color: #0000FE;" id="newdepartment1">
																</div>
																<div >
																	<label for="newdoctorID1" style="color:black;" class="col-form-label">CompanyID:</label>
																	<input type="text" class="form-control" style="color: #0000FE;" id="newdoctorID1" readonly>
																</div>
																<div >
																	<label for="newfirstname1" style="color:black;" class="col-form-label">Firstname:</label>
																	<input type="text" class="form-control" style="color: #0000FE;" id="newfirstname1">
																</div>
																<div >
																	<label for="newlastname1" style="color:black;" class="col-form-label">Lastname:</label>
																	<input type="text" class="form-control" style="color: #0000FE;" id="newlastname1">
																</div>
																<!-- <div class="form-group">
																	<label for="newtitle" class="col-form-label">Title:</label>
																	<input type="text" class="form-control" id="newtitle1">
																</div> -->
															</form>
														</div>
														<div class="modal-footer">
															<button class="btn btn-secondary" type="button" data-dismiss="modal">Cancel</button>
															<button class="btn btn-primary" id="editCompany">Save Changes</button>
														</div>
													</div>
												</div>
											</div>
											<!-- Delete Company Modal-->
											<div class="modal fade" id="DeleteCompanyModal" tabindex="-1" role="dialog" aria-hidden="true">
												<div class="modal-dialog" role="document">
													<div class="modal-content">
														<div class="modal-header">
															<h5 class="modal-title">Delete Company</h5>
															<button class="close" type="button" data-dismiss="modal" aria-label="Close">
																<span aria-hidden="true">×</span>
															</button>
														</div>
														<div class="modal-body">
															<form>
																<div class="form-group">
																	<p id="deleteID1"></p>
																</div>
																<p>Select "Confirm" below if you are ready to delete the current Company.</p>
															</form>
														</div>
														<div class="modal-footer">
															<button class="btn btn-secondary" type="button" data-dismiss="modal">Cancel</button>
															<button class="btn btn-primary" id="deleteCompany">Confirm</button>
														</div>
													</div>
												</div>
											</div>
											<!-- copy-MCL结束 -->
										</div>
									</div>
								</div>


							</div>
						</div>
					</div>
				</div>
				<footer class="footer">
					<div class="container-fluid">
						<nav class="float-left">
							<ul>
								<li>
									<a href="#">
										Blockchain
									</a>
								</li>
								<li>
									<a href="#">
										About Us
									</a>
								</li>
								<li>
									<a href="#">
										Blog
									</a>
								</li>
								<li>
									<a href="#">
										Licenses
									</a>
								</li>
							</ul>
						</nav>

						<div class="copyright float-right" id="date">
							, Welcome <i class="material-icons">favorite</i> to the
							<a href="https://www.creative-tim.com" target="_blank">Tourist Blockchain</a> website.
						</div>
					</div>
				</footer>
				<script>
					const x = new Date().getFullYear();
					let date = document.getElementById('date');
					date.innerHTML = '&copy; ' + x + date.innerHTML;
				</script>
			</div>
		</div>
		<div class="fixed-plugin">
			<div class="dropdown show-dropdown">
				<a href="#" data-toggle="dropdown">
					<i class="fa fa-cog fa-2x"> </i>
				</a>
				<ul class="dropdown-menu">
					<li class="header-title"> Sidebar Filters</li>
					<li class="adjustments-line">
						<a href="javascript:void(0)" class="switch-trigger active-color">
							<div class="badge-colors ml-auto mr-auto">
								<span class="badge filter badge-purple active" data-color="purple"></span>
								<span class="badge filter badge-azure" data-color="azure"></span>
								<span class="badge filter badge-green" data-color="green"></span>
								<span class="badge filter badge-warning" data-color="orange"></span>
								<span class="badge filter badge-danger" data-color="danger"></span>
							</div>
							<div class="clearfix"></div>
						</a>
					</li>
					<li class="header-title">Images</li>
					<li>
						<a class="img-holder switch-trigger" href="javascript:void(0)">
							<img src="../assets/img/sidebar-1.jpg" alt="">
						</a>
					</li>
					<li class="active">
						<a class="img-holder switch-trigger" href="javascript:void(0)">
							<img src="../assets/img/sidebar-2.jpg" alt="">
						</a>
					</li>
					<li>
						<a class="img-holder switch-trigger" href="javascript:void(0)">
							<img src="../assets/img/sidebar-3.jpg" alt="">
						</a>
					</li>
					<li>
						<a class="img-holder switch-trigger" href="javascript:void(0)">
							<img src="../assets/img/sidebar-4.jpg" alt="">
						</a>
					</li>
					<li class="button-container">
						<a href="https://www.creative-tim.com/product/material-dashboard-dark" target="_blank" class="btn btn-primary btn-block">Free
							Download</a>
					</li>
					<!-- <li class="header-title">Want more components?</li>
            <li class="button-container">
                <a href="https://www.creative-tim.com/product/material-dashboard-pro" target="_blank" class="btn btn-warning btn-block">
                  Get the pro version
                </a>
            </li> -->
					<li class="button-container">
						<a href="https://demos.creative-tim.com/material-dashboard-dark/docs/2.0/getting-started/introduction.html"
						 target="_blank" class="btn btn-default btn-block">
							View Documentation
						</a>
					</li>
					<li class="button-container github-star">
						<a class="github-button" href="https://github.com/creativetimofficial/material-dashboard/tree/dark-edition"
						 data-icon="octicon-star" data-size="large" data-show-count="true" aria-label="Star ntkme/github-buttons on GitHub">Star</a>
					</li>
					<li class="header-title">Thank you for 95 shares!</li>
					<li class="button-container text-center">
						<button id="twitter" class="btn btn-round btn-twitter"><i class="fa fa-twitter"></i> &middot; 45</button>
						<button id="facebook" class="btn btn-round btn-facebook"><i class="fa fa-facebook-f"></i> &middot; 50</button>
						<br>
						<br>
					</li>
				</ul>
			</div>
		</div>
		<!--   Core JS Files   -->
		<script src="../assets/js/core/jquery.min.js"></script>
		<script src="../assets/js/core/popper.min.js"></script>
		<script src="../assets/js/core/bootstrap-material-design.min.js"></script>
		<script src="https://unpkg.com/default-passive-events"></script>
		<script src="../assets/js/plugins/perfect-scrollbar.jquery.min.js"></script>
		<!-- Place this tag in your head or just before your close body tag. -->
		<script async defer src="https://buttons.github.io/buttons.js"></script>
		<!--  Google Maps Plugin    -->
		<script src="https://maps.googleapis.com/maps/api/js?key=YOUR_KEY_HERE"></script>
		<!-- Chartist JS -->
		<script src="../assets/js/plugins/chartist.min.js"></script>
		<!--  Notifications Plugin    -->
		<script src="../assets/js/plugins/bootstrap-notify.js"></script>
		<!-- Control Center for Material Dashboard: parallax effects, scripts for the example pages etc -->
		<script src="../assets/js/material-dashboard.js?v=2.1.0"></script>
		<!-- Material Dashboard DEMO methods, don't include it in your project! -->
		<script src="../assets/demo/demo.js"></script>
		<!-- Bootstrap core JavaScript-->
		<script src="vendor/jquery/jquery.min.js"></script>
		<script src="vendor/bootstrap/js/bootstrap.bundle.min.js"></script>

		<!-- Core plugin JavaScript-->
		<script src="vendor/jquery-easing/jquery.easing.min.js"></script>

		<!-- Page level plugin JavaScript-->
		<script src="vendor/datatables/jquery.dataTables.js"></script>
		<script src="vendor/datatables/dataTables.bootstrap4.js"></script>

		<!-- Custom scripts for all pages-->
		<script src="js/sb-admin.min.js"></script>
		<script>
			// 获取CompanyhyperLedger的数据，实现增删改查
			function getCompany() {
				$.get("http://192.168.128.135:3000/api/Hotel", function(data, status) {
					console.log(data);
					for (var i = 0; i < data.length; i++) {
						var htm = "";
						htm += '<tr><td>' + data[i].wtId + '</td><td id="' + data[i].companyId + '">' +
							data[i].companyId + '</td><td>' + data[i].firstname + '</td><td>' +
							data[i].lastname + '</td><td>' +
							'<button type="button" class="btn btn btn-link" data-toggle="modal" data-target="#EditCompanyModal" data-id="' +
							data[i].companyId + '" data-department="' + data[i].wtId + '" data-firstname="' + data[i].firstname +
							'" data-lastname="' + data[i].lastname + '" >Edit </button>' +
							'<button type="button" class="btn btn btn-link" data-toggle="modal" data-target="#DeleteCompanyModal" data-id="' +
							data[i].companyId + '">Delete </button>' +
							'</td></tr>'
						$('#dataTable1 tbody').append(htm);
					}
					$('#dataTable1').DataTable({});
				});
			}

			$('#addCompany').click(function() {
				var doctorID = $('#userId1').val();
				// alert(111111111111111)
				$.ajax({
					url: "http://192.168.128.135:3000/api/Hotel",
					method: "POST",
					data: {
						$class: 'org.tour_network.Hotel',
						wtId: $('#department1').val(),
						companyId: doctorID,
						firstname: $('#firstname1').val(),
						lastname: $('#lastname1').val(),
						// title : $('#title1').val()
					}
				}).done(function(msg) {
					// alert(msg.doctorID);
					alert("Company:"+ doctorID + " Successfully Created");
					location.reload(true);
				});
			});

			$('#EditCompanyModal').on('shown.bs.modal', function(event) {
				var button = $(event.relatedTarget);
				var doctorID = button.data('id');
				var department = button.data('department');
				var firstname = button.data('firstname');
				var lastname = button.data('lastname');
				// var title = button.data('title');
				var modal = $(this);
				modal.find('#newdoctorID1').val(doctorID);
				modal.find('#newdepartment1').val(department);
				modal.find('#newfirstname1').val(firstname);
				modal.find('#newlastname1').val(lastname);
				// modal.find('#newtitle').val(title);
			});

			$('#editCompany').click(function() {
				var newdoctorID = $('#newdoctorID1').val();
				var newdepartment = $('#newdepartment1').val();
				var newfirstname = $('#newfirstname1').val();
				var newlastname = $('#newlastname1').val();
				// var newtitle = $('#newtitle').val();
				var api = "http://192.168.128.135:3000/api/Hotel/";
				var url = api.concat(newdoctorID);
				$.ajax({
					url: url,
					method: "PUT",
					data: {
						$class: 'org.tour_network.Hotel',
						wtId: newdepartment,
						// companyId: newdoctorID,
						firstname: newfirstname,
						lastname: newlastname,
						// email: newtitle
					}
				}).done(function(msg) {
					// alert(msg.doctorID);
					alert("CompanyID:"+ newdoctorID + " Successfully Updated");
					location.reload(true);
				});
			});

			$('#DeleteCompanyModal').on('shown.bs.modal', function(event) {
				var button = $(event.relatedTarget);
				var doctorID = button.data('id');
				var modal = $(this);
				modal.find('#deleteID1').text(doctorID);
			});

			$('#deleteCompany').click(function() {
				var doctorID = $('#deleteID1').text();
				var api = "http://192.168.128.135:3000/api/Hotel/";
				var url = api.concat(doctorID);
				$.ajax({
					url: url,
					method: "DELETE",
				}).fail(function(msg) {
					// alert(msg.doctorID);
					alert("CompanyID:"+ doctorID + " Successfully Deleted");
					location.reload(true);
				});
			});

			var dt = new Date();
			document.getElementById("datetime1").innerHTML = dt.toLocaleString();


			$(document).ready(function() {
				getDoctor();
				getCompany();

				$().ready(function() {
					$sidebar = $('.sidebar');

					$sidebar_img_container = $sidebar.find('.sidebar-background');

					$full_page = $('.full-page');

					$sidebar_responsive = $('body > .navbar-collapse');

					window_width = $(window).width();

					$('.fixed-plugin a').click(function(event) {
						// Alex if we click on switch, stop propagation of the event, so the dropdown will not be hide, otherwise we set the  section active
						if ($(this).hasClass('switch-trigger')) {
							if (event.stopPropagation) {
								event.stopPropagation();
							} else if (window.event) {
								window.event.cancelBubble = true;
							}
						}
					});

					$('.fixed-plugin .active-color span').click(function() {
						$full_page_background = $('.full-page-background');

						$(this).siblings().removeClass('active');
						$(this).addClass('active');

						var new_color = $(this).data('color');

						if ($sidebar.length != 0) {
							$sidebar.attr('data-color', new_color);
						}

						if ($full_page.length != 0) {
							$full_page.attr('filter-color', new_color);
						}

						if ($sidebar_responsive.length != 0) {
							$sidebar_responsive.attr('data-color', new_color);
						}
					});

					$('.fixed-plugin .background-color .badge').click(function() {
						$(this).siblings().removeClass('active');
						$(this).addClass('active');

						var new_color = $(this).data('background-color');

						if ($sidebar.length != 0) {
							$sidebar.attr('data-background-color', new_color);
						}
					});

					$('.fixed-plugin .img-holder').click(function() {
						$full_page_background = $('.full-page-background');

						$(this).parent('li').siblings().removeClass('active');
						$(this).parent('li').addClass('active');


						var new_image = $(this).find("img").attr('src');

						if ($sidebar_img_container.length != 0 && $('.switch-sidebar-image input:checked').length != 0) {
							$sidebar_img_container.fadeOut('fast', function() {
								$sidebar_img_container.css('background-image', 'url("' + new_image + '")');
								$sidebar_img_container.fadeIn('fast');
							});
						}

						if ($full_page_background.length != 0 && $('.switch-sidebar-image input:checked').length != 0) {
							var new_image_full_page = $('.fixed-plugin li.active .img-holder').find('img').data('src');

							$full_page_background.fadeOut('fast', function() {
								$full_page_background.css('background-image', 'url("' + new_image_full_page + '")');
								$full_page_background.fadeIn('fast');
							});
						}

						if ($('.switch-sidebar-image input:checked').length == 0) {
							var new_image = $('.fixed-plugin li.active .img-holder').find("img").attr('src');
							var new_image_full_page = $('.fixed-plugin li.active .img-holder').find('img').data('src');

							$sidebar_img_container.css('background-image', 'url("' + new_image + '")');
							$full_page_background.css('background-image', 'url("' + new_image_full_page + '")');
						}

						if ($sidebar_responsive.length != 0) {
							$sidebar_responsive.css('background-image', 'url("' + new_image + '")');
						}
					});

					$('.switch-sidebar-image input').change(function() {
						$full_page_background = $('.full-page-background');

						$input = $(this);

						if ($input.is(':checked')) {
							if ($sidebar_img_container.length != 0) {
								$sidebar_img_container.fadeIn('fast');
								$sidebar.attr('data-image', '#');
							}

							if ($full_page_background.length != 0) {
								$full_page_background.fadeIn('fast');
								$full_page.attr('data-image', '#');
							}

							background_image = true;
						} else {
							if ($sidebar_img_container.length != 0) {
								$sidebar.removeAttr('data-image');
								$sidebar_img_container.fadeOut('fast');
							}

							if ($full_page_background.length != 0) {
								$full_page.removeAttr('data-image', '#');
								$full_page_background.fadeOut('fast');
							}

							background_image = false;
						}
					});

					$('.switch-sidebar-mini input').change(function() {
						$body = $('body');

						$input = $(this);

						if (md.misc.sidebar_mini_active == true) {
							$('body').removeClass('sidebar-mini');
							md.misc.sidebar_mini_active = false;

							$('.sidebar .sidebar-wrapper, .main-panel').perfectScrollbar();

						} else {

							$('.sidebar .sidebar-wrapper, .main-panel').perfectScrollbar('destroy');

							setTimeout(function() {
								$('body').addClass('sidebar-mini');

								md.misc.sidebar_mini_active = true;
							}, 300);
						}

						// we simulate the window Resize so the charts will get updated in realtime.
						var simulateWindowResize = setInterval(function() {
							window.dispatchEvent(new Event('resize'));
						}, 180);

						// we stop the simulation of Window Resize after the animations are completed
						setTimeout(function() {
							clearInterval(simulateWindowResize);
						}, 1000);

					});
				});
			});



			// 获取CutomerhyperLedger的数据，实现增删改查
			function getDoctor() {
				$.get("http://192.168.128.135:3000/api/Customer", function(data, status) {
					// console.log(data);
					for (var i = 0; i < data.length; i++) {
						var htm = "";
						htm += '<tr><td>' + data[i].wtId + '</td><td id="' + data[i].userId + '">' +
							data[i].userId + '</td><td>' + data[i].firstname + '</td><td>' +
							data[i].lastname + '</td><td>' + data[i].email + '</td><td>' +
							'<button type="button" class="btn btn btn-link" data-toggle="modal" data-target="#EditDoctorModal" data-id="' +
							data[i].userId + '" data-department="' + data[i].wtId + '" data-firstname="' + data[i].firstname +
							'" data-lastname="' + data[i].lastname + '" data-title="' + data[i].email + '">Edit </button>' +
							'<button type="button" class="btn btn btn-link" data-toggle="modal" data-target="#DeleteDoctorModal" data-id="' +
							data[i].userId + '">Delete </button>' +
							'</td></tr>'
						$('#dataTable tbody').append(htm);
					}
					$('#dataTable').DataTable();
				});
			}

			$('#addDoctor').click(function() {
				var userId = $('#userId').val();
				$.ajax({
					url: "http://192.168.128.135:3000/api/Customer",
					method: "POST",
					data: {
						$class: 'org.tour_network.Customer',
						wtId: $('#department').val(),
						userId: userId,
						firstname: $('#firstname').val(),
						lastname: $('#lastname').val(),
						email: $('#title').val()
					}
				}).done(function(msg) {
					// alert(msg.userId);
					alert("CutomerID:"+ userId + " Successfully Created");
					location.reload(true);
				});
			});

			$('#EditDoctorModal').on('shown.bs.modal', function(event) {
				var button = $(event.relatedTarget);
				var doctorID = button.data('id');
				var department = button.data('department');
				var firstname = button.data('firstname');
				var lastname = button.data('lastname');
				var title = button.data('title');
				var modal = $(this);
				modal.find('#newdoctorID').val(doctorID);
				modal.find('#newdepartment').val(department);
				modal.find('#newfirstname').val(firstname);
				modal.find('#newlastname').val(lastname);
				modal.find('#newtitle').val(title);
			});

			$('#editDoctor').click(function() {
				var newdoctorID = $('#newdoctorID').val();
				var newdepartment = $('#newdepartment').val();
				var newfirstname = $('#newfirstname').val();
				var newlastname = $('#newlastname').val();
				var newtitle = $('#newtitle').val();
				var api = "http://192.168.128.135:3000/api/Customer/";
				var url = api.concat(newdoctorID);
				$.ajax({
					url: url,
					method: "PUT",
					data: {
						$class: 'org.tour_network.Customer',
						wtId: newdepartment,
						// userId: newdoctorID,
						firstname: newfirstname,
						lastname: newlastname,
						email: newtitle
					}
				}).done(function(msg) {
					// alert(msg.doctorID);
					alert("CutomerID:"+ newdoctorID + " Successfully Updated");
					location.reload(true);
				});
			});

			$('#DeleteDoctorModal').on('shown.bs.modal', function(event) {
				var button = $(event.relatedTarget);
				var doctorID = button.data('id');
				var modal = $(this);
				modal.find('#deleteID').text(doctorID);
			});

			$('#deleteDoctor').click(function() {
				var doctorID = $('#deleteID').text();
				var api = "http://192.168.128.135:3000/api/Customer/";
				var url = api.concat(doctorID);
				$.ajax({
					url: url,
					method: "DELETE",
				}).fail(function(msg) {
					// alert(msg.doctorID);
					alert("CutomerID:"+ doctorID + " Successfully Deleted");
					location.reload(true);
				});
			});

			var dt = new Date();
			document.getElementById("datetime").innerHTML = dt.toLocaleString();
		</script>
	</body>

</html>
